# Nombre de la aplicación
spring.application.name=SaaS System

# ========================================
# CONFIGURACIÓN DE BASE DE DATOS POSTGRESQL
# ========================================
spring.datasource.url=jdbc:postgresql://localhost:5432/saasdb
spring.datasource.username=fran
spring.datasource.password=123123
spring.datasource.driver-class-name=org.postgresql.Driver

# ========================================
# CONFIGURACIÓN DE JPA/HIBERNATE
# ========================================
# create-drop: Crea las tablas al iniciar y las elimina al cerrar (ideal para desarrollo)
# update: Actualiza el esquema sin eliminar datos (mejor para desarrollo continuo)
# validate: Solo valida que el esquema coincida (para producción)
spring.jpa.hibernate.ddl-auto=create-drop
# Mostrar las consultas SQL en consola para aprender y depurar
spring.jpa.show-sql=true
# Formatear el SQL para que sea más legible
spring.jpa.properties.hibernate.format_sql=true
# Dialecto específico de PostgreSQL
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# ========================================
# CONFIGURACIÓN DE HIBERNATE ENVERS (Auditoría)
# ========================================
# Sufijo para las tablas de auditoría (ej: USUARIO se convierte en USUARIO_AUD)
spring.jpa.properties.org.hibernate.envers.audit_table_suffix=_AUD
# Prefijo para columnas de auditoría
spring.jpa.properties.org.hibernate.envers.revision_field_name=REV
spring.jpa.properties.org.hibernate.envers.revision_type_field_name=REVTYPE
# Auditar solo las relaciones que están marcadas
spring.jpa.properties.org.hibernate.envers.audit_strategy=org.hibernate.envers.strategy.DefaultAuditStrategy

# ========================================
# CONFIGURACIÓN ADICIONAL DE POSTGRESQL
# ========================================
# Esquema por defecto
spring.jpa.properties.hibernate.default_schema=public

# ========================================
# LOGGING
# ========================================
# Ver queries SQL con parámetros
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.hibernate.envers=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.web.servlet=TRACE
